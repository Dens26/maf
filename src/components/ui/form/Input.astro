---
import { getHeadlineColor, getInputBackgroundColor, getInputTextColor } from '../../../utils/styleUtils';
import type { ThemeColor } from '../../../utils/styleUtils';

interface Props {
    label: string;
    type?: 'text' | 'email' | 'tel' | 'password' | 'number';
    id: string;
    name: string;
    min?: string;
    max?: string;
    placeholder?: string;
    required?: boolean;
    disabled?: boolean;
    background?: ThemeColor;
    class?: string;
    autocomplete?: string;
}

const { 
    label, 
    type = 'text', 
    id,
    min,
    max,
    name, 
    placeholder = '', 
    required = false,
    disabled = false,
    background = 'base',
    class: className = '',
    autocomplete = ''
} = Astro.props;

const labelClass = getHeadlineColor(background);
const inputBgClass = getInputBackgroundColor(background);
const inputTextClass = getInputTextColor(background);
---
<div class="form-group w-full">
    <label 
        for={id} 
        class={`block text-sm font-medium mb-1 ${labelClass}`}
    >
        {label}
        {required && <span class="text-red-500">*</span>}
    </label>
    <input 
        type={type}
        id={id}
        min={min}
        max={max}
        name={name}
        placeholder={placeholder}
        required={required}
        disabled={disabled}
        autocomplete={autocomplete}
        class={`
            w-full px-4 py-2
            text-sm
            ${inputBgClass}
            ${inputTextClass}
            border border-primary/50
            rounded-sm
            focus:ring-2 focus:ring-primary focus:border-primary 
            disabled:bg-background-dark/10 disabled:text-body-base/50 disabled:cursor-not-allowed 
            placeholder:text-body-base/50
            disabled:bg-gray-100
            disabled:text-gray-400
            disabled:cursor-not-allowed
            ${className}
        `}
    />
</div> 